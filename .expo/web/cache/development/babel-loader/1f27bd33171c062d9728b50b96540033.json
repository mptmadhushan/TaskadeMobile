{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject;\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useMutation, gql } from '@apollo/client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SIGN_IN_MUTATION = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\nmutation signIn($email: String!, $password: String!) {\\n  signIn(input: { email: $email, password: $password}) {\\n    token\\n    user {\\n      id\\n      name\\n      email\\n    }\\n  }\\n}\\n\"])));\nvar SignInScreen = function SignInScreen() {\n  var _useState = useState('dev@dev.com'),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState('abcabc'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var navigation = useNavigation();\n  var _useMutation = useMutation(SIGN_IN_MUTATION),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    signIn = _useMutation2[0],\n    _useMutation2$ = _useMutation2[1],\n    data = _useMutation2$.data,\n    error = _useMutation2$.error,\n    loading = _useMutation2$.loading;\n  useEffect(function () {\n    if (error) {\n      Alert.alert('Invalid credentials, try again');\n    }\n  }, [error]);\n  if (data) {\n    AsyncStorage.setItem('token', data.signIn.token).then(function () {\n      navigation.navigate('Home');\n    });\n  }\n  var onSubmit = function onSubmit() {\n    signIn({\n      variables: {\n        email: email,\n        password: password\n      }\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      padding: 20\n    },\n    children: [_jsx(TextInput, {\n      placeholder: \"vadim@notjust.dev\",\n      value: email,\n      onChangeText: setEmail,\n      style: {\n        color: '#e33062',\n        fontSize: 18,\n        width: '100%',\n        marginVertical: 25\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"password\",\n      value: password,\n      onChangeText: setPassword,\n      secureTextEntry: true,\n      style: {\n        color: '#e33062',\n        fontSize: 18,\n        width: '100%',\n        marginVertical: 25\n      }\n    }), _jsx(Pressable, {\n      onPress: onSubmit,\n      disabled: loading,\n      style: {\n        backgroundColor: '#e33062',\n        height: 50,\n        borderRadius: 5,\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 30\n      },\n      children: _jsx(Text, {\n        style: {\n          color: 'white',\n          fontSize: 18,\n          fontWeight: 'bold'\n        },\n        children: \"Sign In\"\n      })\n    }), _jsx(Pressable, {\n      onPress: function onPress() {\n        console.warn('nbavigate');\n        navigation.navigate('SignUp');\n      },\n      style: {\n        height: 50,\n        borderRadius: 5,\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 30\n      },\n      children: _jsx(Text, {\n        style: {\n          color: '#e33062',\n          fontSize: 18,\n          fontWeight: 'bold'\n        },\n        children: \"New here? Sign up\"\n      })\n    })]\n  });\n};\nexport default SignInScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigation","AsyncStorage","useMutation","gql","SIGN_IN_MUTATION","SignInScreen","email","setEmail","password","setPassword","navigation","signIn","data","error","loading","Alert","alert","setItem","token","then","navigate","onSubmit","variables","padding","color","fontSize","width","marginVertical","backgroundColor","height","borderRadius","alignItems","justifyContent","marginTop","fontWeight","console","warn"],"sources":["/Users/Tharindu/Downloads/myProjects/full-stack/teamTaskApp/TaskadeMobile/screens/SignInScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { View, Text, TextInput, Pressable, Alert } from 'react-native'\nimport { useNavigation } from '@react-navigation/native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useMutation, gql } from '@apollo/client';\n\nconst SIGN_IN_MUTATION = gql`\nmutation signIn($email: String!, $password: String!) {\n  signIn(input: { email: $email, password: $password}) {\n    token\n    user {\n      id\n      name\n      email\n    }\n  }\n}\n`;\n\n\nconst SignInScreen = () => {\n  const [email, setEmail] = useState('dev@dev.com')\n  const [password, setPassword] = useState('abcabc')\n\n  const navigation = useNavigation();\n\n  const [signIn, { data, error, loading }] = useMutation(SIGN_IN_MUTATION);\n\n  useEffect(() => {\n    if (error) {\n      Alert.alert('Invalid credentials, try again');\n    }\n  }, [error])\n\n  if (data) {\n    // save token\n    AsyncStorage\n      .setItem('token', data.signIn.token)\n      .then(() => {\n        // redirect home\n        navigation.navigate('Home')\n      })\n  }\n\n  const onSubmit = () => {\n    signIn({ variables: { email, password }})\n  }\n\n  return (\n    <View style={{ padding: 20 }}>\n      <TextInput \n        placeholder=\"vadim@notjust.dev\"\n        value={email}\n        onChangeText={setEmail}\n        style={{\n          color: '#e33062',\n          fontSize: 18,\n          width: '100%',\n          marginVertical: 25, \n        }}\n      />\n\n      <TextInput \n        placeholder=\"password\"\n        value={password}\n        onChangeText={setPassword}\n        secureTextEntry\n        style={{\n          color: '#e33062',\n          fontSize: 18,\n          width: '100%',\n          marginVertical: 25, \n        }}\n      />\n      <Pressable \n        onPress={onSubmit} \n        disabled={loading}\n        style={{ \n          backgroundColor: '#e33062',\n          height: 50,\n          borderRadius: 5,\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: 30,\n        }}\n      >\n        <Text \n          style={{\n            color: 'white',\n            fontSize: 18,\n            fontWeight: 'bold'\n          }}>\n            Sign In\n        </Text>\n      </Pressable>\n\n      <Pressable \n        onPress={() => {console.warn('nbavigate'); navigation.navigate('SignUp')}} \n        style={{ \n          height: 50,\n          borderRadius: 5,\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: 30,\n        }}\n      >\n        <Text \n          style={{\n            color: '#e33062',\n            fontSize: 18,\n            fontWeight: 'bold'\n          }}>\n            New here? Sign up\n        </Text>\n      </Pressable>\n    </View>\n  )\n}\n\nexport default SignInScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}