{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _templateObject;\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from '@react-navigation/native';\nimport { useMutation, gql } from '@apollo/client';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SIGN_UP_MUTATION = gql(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\nmutation signUp($email: String!, $password: String!, $name: String!) {\\n  signUp(input: {email: $email, password: $password, name: $name}){\\n    token\\n    user {\\n      id\\n      name\\n      email\\n    }\\n  }\\n}\\n\"])));\nvar SignUpScreen = function SignUpScreen() {\n  var _useState = useState('dev@dev.com'),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState('dev'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    name = _useState4[0],\n    setName = _useState4[1];\n  var _useState5 = useState('abcabc'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var navigation = useNavigation();\n  var _useMutation = useMutation(SIGN_UP_MUTATION),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    signUp = _useMutation2[0],\n    _useMutation2$ = _useMutation2[1],\n    data = _useMutation2$.data,\n    error = _useMutation2$.error,\n    loading = _useMutation2$.loading;\n  if (error) {\n    Alert.alert('Error signing up. Try again');\n  }\n  if (data) {\n    AsyncStorage.setItem('token', data.signUp.token).then(function () {\n      navigation.navigate('Home');\n    });\n  }\n  var onSubmit = function onSubmit() {\n    signUp({\n      variables: {\n        name: name,\n        email: email,\n        password: password\n      }\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      padding: 20\n    },\n    children: [_jsx(TextInput, {\n      placeholder: \"name\",\n      value: name,\n      onChangeText: setName,\n      style: {\n        color: '#e33062',\n        fontSize: 18,\n        width: '100%',\n        marginVertical: 25\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"vadim@notjust.dev\",\n      value: email,\n      onChangeText: setEmail,\n      style: {\n        color: '#e33062',\n        fontSize: 18,\n        width: '100%',\n        marginVertical: 25\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"password\",\n      value: password,\n      onChangeText: setPassword,\n      secureTextEntry: true,\n      style: {\n        color: '#e33062',\n        fontSize: 18,\n        width: '100%',\n        marginVertical: 25\n      }\n    }), _jsxs(Pressable, {\n      onPress: onSubmit,\n      style: {\n        backgroundColor: '#e33062',\n        height: 50,\n        borderRadius: 5,\n        alignItems: 'center',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        marginTop: 30\n      },\n      children: [loading && _jsx(ActivityIndicator, {}), _jsx(Text, {\n        style: {\n          color: 'white',\n          fontSize: 18,\n          fontWeight: 'bold'\n        },\n        children: \"Sign up\"\n      })]\n    }), _jsx(Pressable, {\n      disabled: loading,\n      onPress: function onPress() {\n        navigation.navigate('SignIn');\n      },\n      style: {\n        height: 50,\n        borderRadius: 5,\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 30\n      },\n      children: _jsx(Text, {\n        style: {\n          color: '#e33062',\n          fontSize: 18,\n          fontWeight: 'bold'\n        },\n        children: \"Already Have an account? Sign in\"\n      })\n    })]\n  });\n};\nexport default SignUpScreen;","map":{"version":3,"names":["React","useState","AsyncStorage","useNavigation","useMutation","gql","SIGN_UP_MUTATION","SignUpScreen","email","setEmail","name","setName","password","setPassword","navigation","signUp","data","error","loading","Alert","alert","setItem","token","then","navigate","onSubmit","variables","padding","color","fontSize","width","marginVertical","backgroundColor","height","borderRadius","alignItems","flexDirection","justifyContent","marginTop","fontWeight"],"sources":["/Users/Tharindu/Downloads/myProjects/full-stack/teamTaskApp/TaskadeMobile/screens/SignUpScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  View, \n  Text, \n  TextInput, \n  Pressable, \n  ActivityIndicator, \n  Alert,\n} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from '@react-navigation/native';\n\nimport { useMutation, gql } from '@apollo/client';\n\nconst SIGN_UP_MUTATION = gql`\nmutation signUp($email: String!, $password: String!, $name: String!) {\n  signUp(input: {email: $email, password: $password, name: $name}){\n    token\n    user {\n      id\n      name\n      email\n    }\n  }\n}\n`;\n\nconst SignUpScreen = () => {\n  const [email, setEmail] = useState('dev@dev.com');\n  const [name, setName] = useState('dev');\n  const [password, setPassword] = useState('abcabc');\n\n  const navigation = useNavigation();\n\n  // mutation[0] : A function to trigger the mutation\n  // mutation[1] : result object \n  //    { data,error, loading }\n  const [signUp, { data, error, loading }] = useMutation(SIGN_UP_MUTATION);\n\n  if (error) {\n    Alert.alert('Error signing up. Try again')\n  }\n\n  if (data) {\n    // save token\n    AsyncStorage\n      .setItem('token', data.signUp.token)\n      .then(() => {\n        // redirect home\n        navigation.navigate('Home')\n      })\n  }\n\n  const onSubmit = () => {\n    signUp({variables: { name, email, password }})\n  }\n\n  return (\n    <View style={{ padding: 20 }}>\n      <TextInput \n        placeholder=\"name\"\n        value={name}\n        onChangeText={setName}\n        style={{\n          color: '#e33062',\n          fontSize: 18,\n          width: '100%',\n          marginVertical: 25, \n        }}\n      />\n\n      <TextInput \n        placeholder=\"vadim@notjust.dev\"\n        value={email}\n        onChangeText={setEmail}\n        style={{\n          color: '#e33062',\n          fontSize: 18,\n          width: '100%',\n          marginVertical: 25, \n        }}\n      />\n\n      <TextInput \n        placeholder=\"password\"\n        value={password}\n        onChangeText={setPassword}\n        secureTextEntry\n        style={{\n          color: '#e33062',\n          fontSize: 18,\n          width: '100%',\n          marginVertical: 25, \n        }}\n      />\n\n      <Pressable \n        onPress={onSubmit} \n        style={{ \n          backgroundColor: '#e33062',\n          height: 50,\n          borderRadius: 5,\n          alignItems: 'center',\n          flexDirection: 'row',\n          justifyContent: 'center',\n          marginTop: 30,\n        }}\n      >\n        {loading && <ActivityIndicator />}\n        <Text \n          style={{\n            color: 'white',\n            fontSize: 18,\n            fontWeight: 'bold'\n          }}>\n            Sign up\n        </Text>\n      </Pressable>\n\n      <Pressable\n        disabled={loading}\n        onPress={() => { navigation.navigate('SignIn')} } \n        style={{ \n          height: 50,\n          borderRadius: 5,\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: 30,\n        }}\n      >\n        <Text \n          style={{\n            color: '#e33062',\n            fontSize: 18,\n            fontWeight: 'bold'\n          }}>\n            Already Have an account? Sign in\n        </Text>\n      </Pressable>\n    </View>\n  )\n}\n\nexport default SignUpScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}